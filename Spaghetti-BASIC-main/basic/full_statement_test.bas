10 REM === Spaghetti-BASIC Full Feature Test ===
20 DIM A(3,4)
30 LET A(2,3) = 99
40 PRINT A(2,3)

50 DIM S$(2,2)
60 LET S$(1,1) = "HELLO"
70 LET S$(1,2) = "WORLD"
80 PRINT S$(1,1), S$(1,2)

90 LET X = 5
100 LET Y = 3
110 PRINT X + Y * 2

120 DATA 1, 2, 3
130 READ D1, D2
140 PRINT D1, D2
150 RESTORE
160 READ D3
170 PRINT D3

180 INPUT Z
190 IF Z > 5 THEN 220
200 PRINT "Z is small"
210 GOTO 230
220 PRINT "Z is large"
230 ON Z GOTO 250,260,270
240 GOTO 280
250 PRINT "ONE": GOTO 280
260 PRINT "TWO": GOTO 280
270 PRINT "THREE"
280 ON Z GOSUB 300,310
290 GOTO 320
300 PRINT "GOSUB 1": RETURN
310 PRINT "GOSUB 2": RETURN
320 PRINT "DONE GOSUB"

330 FOR I = 1 TO 3
340 PRINT "FOR I=", I
350 IF I = 2 THEN EXIT
360 NEXT I

370 WHILE X > 0
380 PRINT "WHILE X=", X
390 LET X = X - 1
400 WEND

410 DO
420 PRINT "DO Loop"
430 EXIT
440 LOOP

450 REPEAT
460 PRINT "REPEAT LOOP"
470 LET Y = Y - 1
480 UNTIL Y < 0

490 DEF FN SQR(X) = POW(X, 0.5)
500 LET R = FN SQR(49)
510 PRINT "SQR(49)=", R

520 MAT M READ 1,2,3,4
530 MAT M PRINT

540 OPEN #"test.txt" FOR OUTPUT AS #1
550 PRINTFILE #1 "FILE OUTPUT", R
560 CLOSE #1

570 OPEN #"test.txt" FOR INPUT AS #2
580 READ#2 MSG$, VAL
590 PRINT MSG$, VAL
600 CLOSE #2

610 MAT M PRINTFILE #1
620 MAT N READ#2
630 MAT N PRINT
640 CLOSE #2

650 SOUND 440, 100

660 DEBUG
670 TRACE X
680 BREAK
690 NODEBUG

700 PRINT VARS
710 END
